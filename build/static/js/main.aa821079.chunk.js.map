{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleFilterChange","filter","onChange","value","PersonForm","addPerson","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","required","type","Persons","filteredNames","deletePerson","map","person","name","number","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","put","console","log","delete","Notification","message","text","className","error","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","personService","initialPersons","toLowerCase","includes","event","target","preventDefault","some","p","window","confirm","find","updatedPerson","returnedPerson","setTimeout","catch","concat","updatedPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aa821079.chunk.js","sourcesContent":["const Filter = ({ handleFilterChange, filter }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={handleFilterChange} value={filter} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","const PersonForm = ({\r\n  addPerson,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n  newName,\r\n  newNumber,\r\n}) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name:\r\n        <input required onChange={handleNameChange} value={newName} />\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input required onChange={handleNumberChange} value={newNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","const Persons = ({ filteredNames, deletePerson }) => {\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Name</th>\r\n          <th>Number</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {filteredNames.map((person) => {\r\n          return (\r\n            <tr key={person.name}>\r\n              <td>{person.name}</td>\r\n              <td>{person.number}</td>\r\n              <td>\r\n                <button onClick={() => deletePerson(person.id)}>delete</button>\r\n              </td>\r\n            </tr>\r\n          );\r\n        })}\r\n        <tr>\r\n          <td></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  console.log(id);\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, deletePerson };\r\n","const Notification = ({ message }) => {\r\n\r\n  if (message.text === \"\") {\r\n    return null;\r\n  }\r\n\r\n  return <div className={message.error ? 'error' : 'add'}>{message.text}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\nimport personService from \"./services/persons\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [message, setMessage] = useState({\r\n    text: \"\",\r\n    error: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((initialPersons) => {\r\n      setPersons(initialPersons);\r\n    });\r\n  }, []);\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value);\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (persons.some((p) => p.name.toLowerCase() === newName.toLowerCase())) {\r\n      const confirmUpdate = window.confirm(\r\n        `${newName} is already added to phonebook, replace the old number with a new one?`\r\n      );\r\n\r\n      if (confirmUpdate) {\r\n        const person = persons.find(\r\n          (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n        );\r\n\r\n        const updatedPerson = {\r\n          ...person,\r\n          number: newNumber,\r\n        };\r\n\r\n        personService\r\n          .update(updatedPerson.id, updatedPerson)\r\n          .then((returnedPerson) => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== updatedPerson.id ? person : returnedPerson\r\n              )\r\n            );\r\n            setMessage({\r\n              text: `${updatedPerson.name} number was updated to ${updatedPerson.number}`,\r\n              error: false,\r\n            });\r\n            setTimeout(() => {\r\n              setMessage({ text: \"\", error: false });\r\n            }, 2500);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    } else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber,\r\n      };\r\n\r\n      personService.create(personObject).then((returnedPerson) => {\r\n        setPersons(persons.concat(returnedPerson));\r\n\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n        setMessage({\r\n          text: `${returnedPerson.name} number was added to phonebook`,\r\n          error: false,\r\n        });\r\n        setTimeout(() => {\r\n          setMessage({ text: \"\", error: false });\r\n        }, 2500);\r\n      });\r\n    }\r\n  };\r\n\r\n  const filteredNames = persons.filter((person) =>\r\n    person.name.toLowerCase().includes(filter.toLowerCase())\r\n  );\r\n\r\n  const deletePerson = (id) => {\r\n    const person = persons.find((person) => person.id === id);\r\n\r\n    const confirmDelete = window.confirm(`Delete ${person.name}?`);\r\n\r\n    if (confirmDelete) {\r\n      personService\r\n        .deletePerson(id)\r\n        .then(() => {\r\n          const updatedPersons = persons.filter((person) => person.id !== id);\r\n          setPersons(updatedPersons);\r\n          setMessage({\r\n            text: `${person.name}'s contact info was deleted from the server.`,\r\n            error: false,\r\n          });\r\n          setTimeout(() => {\r\n            setMessage({ text: \"\", error: false });\r\n          }, 2500);\r\n          setFilter(\"\");\r\n        })\r\n        .catch((error) => {\r\n          setMessage({\r\n            text: `${person.name} has already been deleted!`,\r\n            error: true,\r\n          });\r\n          setTimeout(() => {\r\n            setMessage({ text: \"\", error: false });\r\n          }, 2500);\r\n          setPersons(persons.filter((p) => p.id !== id));\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      <Filter handleFilterChange={handleFilterChange} filter={filter} />\r\n      <h3>Add a new</h3>\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <Persons filteredNames={filteredNames} deletePerson={deletePerson} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}