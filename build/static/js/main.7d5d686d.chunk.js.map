{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/ListPersons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleFilterChange","filter","onChange","value","PersonForm","addPerson","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","required","type","Person","person","deletePerson","console","log","name","number","onClick","id","ListPersons","persons","filteredPersons","includes","map","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","update","put","delete","Notification","message","text","className","error","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","initialPersons","event","target","preventDefault","some","p","toLowerCase","window","confirm","find","updatedPerson","returnedPerson","setTimeout","catch","personObject","concat","updatedPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7d5d686d.chunk.js","sourcesContent":["const Filter = ({ handleFilterChange, filter }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={handleFilterChange} value={filter} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","const PersonForm = ({\r\n  addPerson,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n  newName,\r\n  newNumber,\r\n}) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name:\r\n        <input required onChange={handleNameChange} value={newName} />\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input required onChange={handleNumberChange} value={newNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","const Person = ({ person, deletePerson }) => {\r\n  console.log(person);\r\n  return (\r\n    <tr key={person.id}>\r\n      <td>{person.name}</td>\r\n      <td>{person.number}</td>\r\n      <td>\r\n        <button onClick={() => deletePerson(person.id)}>delete</button>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst ListPersons = ({ persons, deletePerson, filter }) => {\r\n  console.log(persons);\r\n  console.log(filter);\r\n  const filteredPersons = persons.filter((person) =>\r\n    person.name.includes(filter)\r\n  );\r\n\r\n  const showFiltered = () =>\r\n    filteredPersons.map((person) => (\r\n      <Person key={person.id} person={person} deletePerson={deletePerson} />\r\n    ));\r\n\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Name</th>\r\n          <th>Number</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{showFiltered()}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ListPersons;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  console.log(id);\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst personService = {\r\n  getAll,\r\n  create,\r\n  update,\r\n  deletePerson,\r\n};\r\nexport default personService;\r\n","const Notification = ({ message }) => {\r\n\r\n  if (message.text === \"\") {\r\n    return null;\r\n  }\r\n\r\n  return <div className={message.error ? 'error' : 'add'}>{message.text}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport ListPersons from \"./components/ListPersons\";\r\nimport personService from \"./services/persons\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filter, setFilter] = useState('');\r\n  const [message, setMessage] = useState({\r\n    text: \"\",\r\n    error: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((initialPersons) => setPersons(initialPersons));\r\n  }, []);\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value);\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (persons.some((p) => p.name.toLowerCase() === newName.toLowerCase())) {\r\n      const confirmUpdate = window.confirm(\r\n        `${newName} is already added to phonebook, replace the old number with a new one?`\r\n      );\r\n\r\n      if (confirmUpdate) {\r\n        const person = persons.find(\r\n          (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n        );\r\n\r\n        const updatedPerson = {\r\n          ...person,\r\n          number: newNumber,\r\n        };\r\n\r\n        personService\r\n          .update(updatedPerson.id, updatedPerson)\r\n          .then((returnedPerson) => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== updatedPerson.id ? person : returnedPerson\r\n              )\r\n            );\r\n            setMessage({\r\n              text: `${updatedPerson.name} number was updated to ${updatedPerson.number}`,\r\n              error: false,\r\n            });\r\n            setTimeout(() => {\r\n              setMessage({ text: \"\", error: false });\r\n            }, 2500);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      }\r\n    } else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber,\r\n      };\r\n\r\n      personService.create(personObject).then((returnedPerson) => {\r\n        setPersons(persons.concat(returnedPerson));\r\n\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n        setMessage({\r\n          text: `${returnedPerson.name} number was added to phonebook`,\r\n          error: false,\r\n        });\r\n        setTimeout(() => {\r\n          setMessage({ text: \"\", error: false });\r\n        }, 2500);\r\n      });\r\n    }\r\n  };\r\n\r\n  const deletePerson = (id) => {\r\n    const person = persons.find((person) => person.id === id);\r\n\r\n    const confirmDelete = window.confirm(`Delete ${person.name}?`);\r\n\r\n    if (confirmDelete) {\r\n      personService\r\n        .deletePerson(id)\r\n        .then(() => {\r\n          const updatedPersons = persons.filter((person) => person.id !== id);\r\n          setPersons(updatedPersons);\r\n          setMessage({\r\n            text: `${person.name}'s contact info was deleted from the server.`,\r\n            error: false,\r\n          });\r\n          setTimeout(() => {\r\n            setMessage({ text: \"\", error: false });\r\n          }, 2500);\r\n          setFilter(\"\");\r\n        })\r\n        .catch((error) => {\r\n          setMessage({\r\n            text: `${person.name} has already been deleted!`,\r\n            error: true,\r\n          });\r\n          setTimeout(() => {\r\n            setMessage({ text: \"\", error: false });\r\n          }, 2500);\r\n          setPersons(persons.filter((p) => p.id !== id));\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      <Filter handleFilterChange={handleFilterChange} filter={filter} />\r\n      <h3>Add a new</h3>\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <ListPersons persons={persons} deletePerson={deletePerson} filter={filter} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}